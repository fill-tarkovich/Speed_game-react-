{"ast":null,"code":"import _classCallCheck from \"/Users/s2200133/Desktop/React_basics/speed_game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/s2200133/Desktop/React_basics/speed_game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/s2200133/Desktop/React_basics/speed_game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/s2200133/Desktop/React_basics/speed_game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/s2200133/Desktop/React_basics/speed_game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/s2200133/Desktop/React_basics/speed_game/src/App.js\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport Circle from \"./Circle\";\nimport Button from \"./Button\";\nimport Popup from \"./Popup\";\nimport bgSound from \"./sounds/bg.mp3\";\nimport endSound from \"./sounds/end.mp3\";\nvar BGsound = new Audio(bgSound);\nvar ENDsound = new Audio(endSound);\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      score: 0,\n      pace: 1200,\n      active: -1,\n      showPopup: false,\n      rounds: 0,\n      gameOn: false\n    };\n    _this.timer = undefined;\n    _this.circles = [{\n      id: 1,\n      isActive: false\n    }, {\n      id: 2,\n      isActive: false\n    }, {\n      id: 3,\n      isActive: false\n    }, {\n      id: 4,\n      isActive: false\n    }];\n\n    _this.clickedCircle = function (i) {\n      if (_this.state.active !== i) {\n        _this.stopGame();\n\n        return;\n      }\n\n      _this.setState({\n        score: _this.state.score + 10,\n        rounds: _this.state.rounds - 1\n      });\n    };\n\n    _this.closeHandler = function () {\n      window.location.reload(); // this.setState({\n      //   showPopup: false,\n      //   score: 0,\n      //   active: -1,\n      // });\n    };\n\n    _this.nextCircle = function () {\n      if (_this.state.rounds >= 5) {\n        _this.stopGame();\n\n        return;\n      }\n\n      var nextActive;\n\n      do {\n        nextActive = _this.getRndInteger(0, _this.circles.length - 1);\n      } while (nextActive === _this.state.active);\n\n      _this.setState({\n        active: nextActive,\n        pace: _this.state.pace * 0.95,\n        rounds: _this.state.rounds + 1\n      });\n\n      console.log(_this.state.rounds);\n      _this.timer = setTimeout(_this.nextCircle, _this.state.pace);\n    };\n\n    _this.startGame = function () {\n      _this.nextCircle();\n\n      _this.setState({\n        gameOn: true\n      });\n\n      BGsound.play();\n    };\n\n    _this.stopGame = function () {\n      clearTimeout(_this.timer);\n\n      _this.setState({\n        showPopup: true,\n        gameOn: false,\n        rounds: 0\n      });\n\n      BGsound.pause();\n      ENDsound.play();\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"getRndInteger\",\n    value: function getRndInteger(min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, \"Speedgame\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }, \"Your score: \", this.state.score), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"circles\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, this.circles.map(function (circle, i) {\n        return /*#__PURE__*/React.createElement(Circle, {\n          key: i,\n          id: i,\n          click: function click() {\n            return _this2.clickedCircle(i);\n          },\n          active: _this2.state.active === i,\n          disabled: _this2.state.gameOn,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }\n        });\n      })), !this.state.gameOn && /*#__PURE__*/React.createElement(Button, {\n        click: this.startGame,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 32\n        }\n      }, \"START\"), this.state.gameOn && /*#__PURE__*/React.createElement(Button, {\n        click: this.stopGame,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 31\n        }\n      }, \"STOP\"), this.state.showPopup && /*#__PURE__*/React.createElement(Popup, {\n        close: this.closeHandler,\n        score: this.state.score,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/s2200133/Desktop/React_basics/speed_game/src/App.js"],"names":["React","Component","Circle","Button","Popup","bgSound","endSound","BGsound","Audio","ENDsound","App","state","score","pace","active","showPopup","rounds","gameOn","timer","undefined","circles","id","isActive","clickedCircle","i","stopGame","setState","closeHandler","window","location","reload","nextCircle","nextActive","getRndInteger","length","console","log","setTimeout","startGame","play","clearTimeout","pause","min","max","Math","floor","random","map","circle"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Component } from \"react\";\nimport Circle from \"./Circle\";\nimport Button from \"./Button\";\nimport Popup from \"./Popup\";\n\nimport bgSound from \"./sounds/bg.mp3\";\nimport endSound from \"./sounds/end.mp3\";\n\nconst BGsound = new Audio(bgSound);\nconst ENDsound = new Audio(endSound);\n\nclass App extends Component {\n  state = {\n    score: 0,\n    pace: 1200,\n    active: -1,\n    showPopup: false,\n    rounds: 0,\n    gameOn: false,\n  };\n\n  timer = undefined;\n\n  circles = [\n    { id: 1, isActive: false },\n    { id: 2, isActive: false },\n    { id: 3, isActive: false },\n    { id: 4, isActive: false },\n  ];\n\n  getRndInteger(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  clickedCircle = (i) => {\n    if (this.state.active !== i) {\n      this.stopGame();\n      return;\n    }\n    this.setState({\n      score: this.state.score + 10,\n      rounds: this.state.rounds - 1,\n    });\n  };\n\n  closeHandler = () => {\n    window.location.reload();\n    // this.setState({\n    //   showPopup: false,\n    //   score: 0,\n    //   active: -1,\n    // });\n  };\n\n  nextCircle = () => {\n    if (this.state.rounds >= 5) {\n      this.stopGame();\n      return;\n    }\n    let nextActive;\n    do {\n      nextActive = this.getRndInteger(0, this.circles.length - 1);\n    } while (nextActive === this.state.active);\n\n    this.setState({\n      active: nextActive,\n      pace: this.state.pace * 0.95,\n      rounds: this.state.rounds + 1,\n    });\n\n    console.log(this.state.rounds);\n\n    this.timer = setTimeout(this.nextCircle, this.state.pace);\n  };\n\n  startGame = () => {\n    this.nextCircle();\n    this.setState({ gameOn: true });\n    BGsound.play();\n  };\n\n  stopGame = () => {\n    clearTimeout(this.timer);\n    this.setState({\n      showPopup: true,\n      gameOn: false,\n      rounds: 0,\n    });\n    BGsound.pause();\n    ENDsound.play();\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Speedgame</h1>\n        <p>Your score: {this.state.score}</p>\n        <div className=\"circles\">\n          {this.circles.map((circle, i) => (\n            <Circle\n              key={i}\n              id={i}\n              click={() => this.clickedCircle(i)}\n              active={this.state.active === i}\n              disabled={this.state.gameOn}\n            />\n          ))}\n        </div>\n        {!this.state.gameOn && <Button click={this.startGame}>START</Button>}\n        {this.state.gameOn && <Button click={this.stopGame}>STOP</Button>}\n        {this.state.showPopup && (\n          <Popup close={this.closeHandler} score={this.state.score} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}